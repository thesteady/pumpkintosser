<h1>Beer Ratings Matrix</h1>

<table>
	<thead>
		<th>Beer</th>
		<th>Avg. Rating</th>
		<% @users.each do |user| %>
			<th><%= user.name %></th>
		<% end %>

	</thead>
	<tbody>

		<% @beers.each do |beer| %>
			<tr>
				<td><%= beer.name %> (<%= beer.brewery %>)</td>
				<td><%= beer.average_rating %></td>
				<% @users.each do |user| %>
					<td>
						<%= beer.ratings.find {|r| r.user == user }.try(:value) || "-" %>
					</td>
				<% end %>

			</tr>
		<% end %>
	</tbody>
</table>